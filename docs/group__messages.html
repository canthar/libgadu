<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>libgadu: Wiadomości</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Defines</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<h1>Wiadomości<br/>
<small>
[<a class="el" href="group__session.html">Połączenie z serwerem</a>]</small>
</h1>  </div>
</div>
<div class="contents">
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structgg__msg__richtext__format.html">gg_msg_richtext_format</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Struktura opisująca formatowanie tekstu.  <a href="structgg__msg__richtext__format.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structgg__msg__richtext__color.html">gg_msg_richtext_color</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Struktura opisującą kolor tekstu dla atrybutu <code>GG_FONT_COLOR</code>.  <a href="structgg__msg__richtext__color.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structgg__msg__richtext__image.html">gg_msg_richtext_image</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Strukturya opisująca obrazek wstawiony do wiadomości dla atrubutu <code>GG_FONT_IMAGE</code>.  <a href="structgg__msg__richtext__image.html#_details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__messages.html#ga702ddbf340747a609a56241526b19b8e">GG_MSG_MAXSIZE</a>&nbsp;&nbsp;&nbsp;1989</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Maksymalna długość wiadomości.  <a href="#ga702ddbf340747a609a56241526b19b8e"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom">{ <br/>
&nbsp;&nbsp;<a class="el" href="group__messages.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a8163c1c845c6cc766ba4d1b0d8a60c36">GG_CLASS_MSG</a>, 
<br/>
&nbsp;&nbsp;<a class="el" href="group__messages.html#ggab04a0655cd1e3bcac5e8f48c18df1a57afcc792ce83299a41ea087b5595af0a29">GG_CLASS_CHAT</a>, 
<br/>
&nbsp;&nbsp;<a class="el" href="group__messages.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a5ef165db4874c852e49aeca51a7128e9">GG_CLASS_CTCP</a>, 
<br/>
&nbsp;&nbsp;<a class="el" href="group__messages.html#ggab04a0655cd1e3bcac5e8f48c18df1a57ad31aaba07e24c54eb136739fdf0f35ce">GG_CLASS_ACK</a>, 
<br/>
&nbsp;&nbsp;<a class="el" href="group__messages.html#ggab04a0655cd1e3bcac5e8f48c18df1a57a29acd1b8de6f0ff5e72a25ff083a3d47">GG_CLASS_QUEUED</a>
<br/>
 }</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p>Klasy wiadomości. </p>
 <a href="group__messages.html#gab04a0655cd1e3bcac5e8f48c18df1a57">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom">{ <br/>
&nbsp;&nbsp;<a class="el" href="group__messages.html#gga385c44f6fb256e5716a2302a5b940388a94c148486240df0354a8123ee5dd06c5">GG_FONT_BOLD</a>, 
<br/>
&nbsp;&nbsp;<a class="el" href="group__messages.html#gga385c44f6fb256e5716a2302a5b940388a8a000abdc55fed561d4871ac9f976305">GG_FONT_ITALIC</a>, 
<br/>
&nbsp;&nbsp;<a class="el" href="group__messages.html#gga385c44f6fb256e5716a2302a5b940388a1f3a57de68f8b37cfe5cc6fc6c59248e">GG_FONT_UNDERLINE</a>, 
<br/>
&nbsp;&nbsp;<a class="el" href="group__messages.html#gga385c44f6fb256e5716a2302a5b940388a802285a52382aa39fdc1fc0fc0b5849c">GG_FONT_COLOR</a>, 
<br/>
&nbsp;&nbsp;<a class="el" href="group__messages.html#gga385c44f6fb256e5716a2302a5b940388a756b07e02fb68e90274cf6471616400d">GG_FONT_IMAGE</a>
<br/>
 }</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p>Atrybuty formatowania wiadomości. </p>
 <a href="group__messages.html#ga385c44f6fb256e5716a2302a5b940388">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom">{ <br/>
&nbsp;&nbsp;<a class="el" href="group__messages.html#ggabc5c98fcc1211af2b80116dd6e0a035dae3901917057a6657a756e5668d20a5ce">GG_ACK_DELIVERED</a>, 
<br/>
&nbsp;&nbsp;<a class="el" href="group__messages.html#ggabc5c98fcc1211af2b80116dd6e0a035da76575d0bafcb1e0e8a45d08788dc5b08">GG_ACK_QUEUED</a>, 
<br/>
&nbsp;&nbsp;<a class="el" href="group__messages.html#ggabc5c98fcc1211af2b80116dd6e0a035da22cd918071954d3b6d39333ee85ddac7">GG_ACK_BLOCKED</a>, 
<br/>
&nbsp;&nbsp;<a class="el" href="group__messages.html#ggabc5c98fcc1211af2b80116dd6e0a035da8cf3fd01604ed358e04bcfc4c7ffc732">GG_ACK_MBOXFULL</a>, 
<br/>
&nbsp;&nbsp;<a class="el" href="group__messages.html#ggabc5c98fcc1211af2b80116dd6e0a035da34c0aa23f1f67c05dc0034318339d486">GG_ACK_NOT_DELIVERED</a>
<br/>
 }</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p>Status doręczenia wiadomości. </p>
 <a href="group__messages.html#gabc5c98fcc1211af2b80116dd6e0a035d">More...</a><br/></td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__messages.html#gabcc076e57528b91518f573f59fadde08">gg_send_message</a> (struct <a class="el" href="structgg__session.html">gg_session</a> *sess, int msgclass, <a class="el" href="libgadu_8h.html#a33f630ba74294027f9bcda26ed49cdc8">uin_t</a> recipient, const unsigned char *message)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Wysyła wiadomość do użytkownika.  <a href="#gabcc076e57528b91518f573f59fadde08"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__messages.html#ga2a30ed0ecd9691b7af77406619087a67">gg_send_message_richtext</a> (struct <a class="el" href="structgg__session.html">gg_session</a> *sess, int msgclass, <a class="el" href="libgadu_8h.html#a33f630ba74294027f9bcda26ed49cdc8">uin_t</a> recipient, const unsigned char *message, const unsigned char *format, int formatlen)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Wysyła wiadomość formatowaną.  <a href="#ga2a30ed0ecd9691b7af77406619087a67"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__messages.html#ga1c21ea124d1b79cfc16c0733d3833ebe">gg_send_message_html</a> (struct <a class="el" href="structgg__session.html">gg_session</a> *sess, int msgclass, <a class="el" href="libgadu_8h.html#a33f630ba74294027f9bcda26ed49cdc8">uin_t</a> recipient, const unsigned char *html_message)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Wysyła formatowaną wiadomość HTML.  <a href="#ga1c21ea124d1b79cfc16c0733d3833ebe"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__messages.html#ga48f3197c621872c670f49fe0d1ac25eb">gg_send_message_confer</a> (struct <a class="el" href="structgg__session.html">gg_session</a> *sess, int msgclass, int recipients_count, <a class="el" href="libgadu_8h.html#a33f630ba74294027f9bcda26ed49cdc8">uin_t</a> *recipients, const unsigned char *message)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Wysyła wiadomość w ramach konferencji.  <a href="#ga48f3197c621872c670f49fe0d1ac25eb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__messages.html#ga0e5df383eeac438710656704fa4bdd30">gg_send_message_confer_richtext</a> (struct <a class="el" href="structgg__session.html">gg_session</a> *sess, int msgclass, int recipients_count, <a class="el" href="libgadu_8h.html#a33f630ba74294027f9bcda26ed49cdc8">uin_t</a> *recipients, const unsigned char *message, const unsigned char *format, int formatlen)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Wysyła wiadomość formatowaną w ramach konferencji.  <a href="#ga0e5df383eeac438710656704fa4bdd30"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__messages.html#gacc9111b04eec5bd62db47dcb591487dd">gg_send_message_confer_html</a> (struct <a class="el" href="structgg__session.html">gg_session</a> *sess, int msgclass, int recipients_count, <a class="el" href="libgadu_8h.html#a33f630ba74294027f9bcda26ed49cdc8">uin_t</a> *recipients, const unsigned char *html_message)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Wysyła formatowaną wiadomość HTML w ramach konferencji.  <a href="#gacc9111b04eec5bd62db47dcb591487dd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__messages.html#ga2c03e907a237f1de9a0e22b252e333c5">gg_send_message_ctcp</a> (struct <a class="el" href="structgg__session.html">gg_session</a> *sess, int msgclass, <a class="el" href="libgadu_8h.html#a33f630ba74294027f9bcda26ed49cdc8">uin_t</a> recipient, const unsigned char *message, int message_len)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Wysyła wiadomość binarną przeznaczoną dla klienta.  <a href="#ga2c03e907a237f1de9a0e22b252e333c5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__messages.html#gad8f4addf7ac77bb992e42eb6e2de5b60">gg_image_request</a> (struct <a class="el" href="structgg__session.html">gg_session</a> *sess, <a class="el" href="libgadu_8h.html#a33f630ba74294027f9bcda26ed49cdc8">uin_t</a> recipient, int size, uint32_t crc32)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Wysyła żądanie obrazka o podanych parametrach.  <a href="#gad8f4addf7ac77bb992e42eb6e2de5b60"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__messages.html#ga8d1a50a10b076d0006c8b1b301394bd2">gg_image_reply</a> (struct <a class="el" href="structgg__session.html">gg_session</a> *sess, <a class="el" href="libgadu_8h.html#a33f630ba74294027f9bcda26ed49cdc8">uin_t</a> recipient, const char *filename, const char *image, int size)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Wysyła żądany obrazek.  <a href="#ga8d1a50a10b076d0006c8b1b301394bd2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__messages.html#ga27a5bb1766cbb99dae4e862eec635899">gg_typing_notification</a> (struct <a class="el" href="structgg__session.html">gg_session</a> *sess, <a class="el" href="libgadu_8h.html#a33f630ba74294027f9bcda26ed49cdc8">uin_t</a> recipient, int length)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Informuje rozmówcę o pisaniu wiadomości.  <a href="#ga27a5bb1766cbb99dae4e862eec635899"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Wysyłanie zwykłych wiadomości jest prostą operacją i większości przypadków wystarczy użycie funkcji <code>gg_send_message:</code> </p>
<div class="fragment"><pre class="fragment"><a class="code" href="group__messages.html#gabcc076e57528b91518f573f59fadde08" title="Wysyła wiadomość do użytkownika.">gg_send_message</a>(sesja, <a class="code" href="group__messages.html#ggab04a0655cd1e3bcac5e8f48c18df1a57afcc792ce83299a41ea087b5595af0a29" title="Wiadomość ma pojawić się w oknie rozmowy.">GG_CLASS_CHAT</a>, odbiorca, treść);
</pre></div><p>Funkcja zwraca numer sekwencyjny wiadomości, który może zostać użyty do potwierdzenia dostarczenia wiadomości za pomocą zdarzenia <a class="el" href="group__events.html#events-list"><code>GG_EVENT_ACK</code> </a>. Wiadomości przeznaczone do wyświetlania w osobny oknie były wykorzystywane w starszych wersjach Gadu-Gadu, gdzie istniały osobne opcje &mdash; wiadomości i rozmowa. Obecnie wykorzystuje się wiadomość typu <code>GG_CLASS_CHAT</code>.</p>
<p>Wiadomość, która ma zawierać formatowanie tekstu, musi zostać wysłana za pomocą funkcji <code><a class="el" href="group__messages.html#ga2a30ed0ecd9691b7af77406619087a67" title="Wysyła wiadomość formatowaną.">gg_send_message_richtext()</a></code>. Wiadomości konferencyjne wysyła się funkcjami <code><a class="el" href="group__messages.html#ga48f3197c621872c670f49fe0d1ac25eb" title="Wysyła wiadomość w ramach konferencji.">gg_send_message_confer()</a></code> lub <code><a class="el" href="group__messages.html#ga0e5df383eeac438710656704fa4bdd30" title="Wysyła wiadomość formatowaną w ramach konferencji.">gg_send_message_confer_richtext()</a></code>.</p>
<h2><a class="anchor" id="messages-conference"></a>
Wiadomości konferencyjne</h2>
<p>Rozmowy konferencyjne w Gadu-Gadu polegają na wysyłaniu tej samej wiadomości do wszystkich uczestników wraz z metainformacją zawierającą listę uczestników. Osoba, która pierwsza wyśle wiadomość, dołącza listę rozmówców do wiadomości, z której korzysta się przy wysyłaniu odpowiedzi. Z tego powodu nie ma możliwości dołączania się lub opuszczania "pokojów" &mdash; po zamknięciu rozmowy konferencyjnej należy ignorować kolejne wiadomości, ponieważ inni uczestnicy nie są o tym fakcie informowani.</p>
<p>Funkcje <code><a class="el" href="group__messages.html#ga48f3197c621872c670f49fe0d1ac25eb" title="Wysyła wiadomość w ramach konferencji.">gg_send_message_confer()</a></code> i <code><a class="el" href="group__messages.html#ga0e5df383eeac438710656704fa4bdd30" title="Wysyła wiadomość formatowaną w ramach konferencji.">gg_send_message_confer_richtext()</a></code> zajmują się wysłaniem wiadomości do wszystkich uczestników oraz dołączaniem odpowiednich metainformowacji. Aplikacja musi jedynie dołączyć listę rozmówców w postaci listy ich identyfikatorów.</p>
<p>Po odebraniu wiadomości konferencyjnej za pomocą zdarzenia <a class="el" href="group__events.html#events-list"><code>GG_EVENT_MSG</code> ,</a>pola <a class="el" href="structgg__event__msg.html#ae3808a5fcb7a3f364bc8787a3e2153a4">recipients_count</a> oraz <a class="el" href="structgg__event__msg.html#afa2b7b0fbff40978a6a229de528cb736">recipients</a> struktury zdarzenia określają listę rozmówców.</p>
<h2><a class="anchor" id="messages-richtext"></a>
Wiadomości formatowane</h2>
<p>Wiadomości formatowane zawierają metainformacje opisujące formatowanie poszczególnych fragmentów tekstu. Blok metainformacji zawiera dowolną liczbę struktur <code><a class="el" href="structgg__msg__richtext__format.html" title="Struktura opisująca formatowanie tekstu.">gg_msg_richtext_format</a></code>. Pole <code>position</code> określa pierwszy znak, którego dotyczy formatowanie. Pole <code>font</code> jest sumą logiczną atrybutów:</p>
<ul>
<li>
<code>GG_FONT_BOLD</code> &mdash; pogrubienie, </li>
<li>
<code>GG_FONT_ITALIC</code> &mdash; kursywa, </li>
<li>
<code>GG_FONT_UNDERLINE</code> &mdash; podkreślenie, </li>
<li>
<code>GG_FONT_COLOR</code> &mdash; kolor, </li>
<li>
<code>GG_FONT_IMAGE</code> &mdash; obrazek. </li>
</ul>
<p>Jeśli występuje atrybut <code>GG_FONT_COLOR</code>, zaraz za strukturą <code><a class="el" href="structgg__msg__richtext__format.html" title="Struktura opisująca formatowanie tekstu.">gg_msg_richtext_format</a></code> znajduje się struktura <code><a class="el" href="structgg__msg__richtext__color.html" title="Struktura opisującą kolor tekstu dla atrybutu GG_FONT_COLOR.">gg_msg_richtext_color</a></code> opisująca kolor za pomocą składowych RGB.</p>
<p>Jeśli występuje atrybut <code>GG_FONT_IMAGE</code>, za strukturą znajduje się struktura <code><a class="el" href="structgg__msg__richtext__image.html" title="Strukturya opisująca obrazek wstawiony do wiadomości dla atrubutu GG_FONT_IMAGE.">gg_msg_richtext_image</a></code>. Pole <code>unknown1</code> zawiera rozmiar (0x09) oraz rodzaj struktury (0x01), ale ze względów historycznych jest liczbą 16-bitową i należy przypisać mu wartość <code>0x0109</code>. Pola <code>size</code> i <code>crc32</code> identyfikują obrazek, który można pobrać od nadawcy lub z dysku lokalnego, jeśli był już wcześniej pobierany (np. często używana ikonka). Opis pobierania obrazków od nadawcy znajduje się <a class="el" href="group__messages.html#messages-images">poniżej</a>.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>Biblioteka nie ingeruje w zawartość bloku formatowania, więc kolejność bajtów może się różnić od używanej na danej architekturze. By pobrać lub określić poszczególne wartości, należy użyć funkcji <code><a class="el" href="group__helper.html#gae2bb699fed19a582feebe83b724aeda4">gg_fix16()</a></code> i <code><a class="el" href="group__helper.html#gae8c6817d2c15b5db3bfc4f8e39a50a4c">gg_fix32()</a></code>, które w razie konieczności dokonają konwersji.</dd>
<dd>
Należy pamiętać, że rozmiar bloku formatowania jest określany w bajtach, nie liczbie struktur.</dd>
<dd>
Rozmiary struktur i położenie ich pól nie są wyrównywane do rozmiaru słowa. Jeśli dana architektura wymaga dostępu do pamięci z wyrównaniem, należy o to zadbać w aplikacji.</dd></dl>
<h2><a class="anchor" id="messages-receive"></a>
Otrzymywanie wiadomości</h2>
<p>Wiadomości odebrane od serwera są przekazywane za pomocą zdarzenia <a class="el" href="group__events.html#events-list"><code>GG_EVENT_MSG</code> </a> </p>
<dl class="note"><dt><b>Note:</b></dt><dd>Serwer nie prześle zakolejkowanych wiadomości przed wysłaniem <a class="el" href="group__contacts.html">listy kontaktów</a>.</dd></dl>
<h2><a class="anchor" id="messages-ack"></a>
Potwierdzenie doręczenia</h2>
<p>Każda przesyłana wiadomość zawiera numer sekwencyjny, który może zostać użyty do potwierdzenia doręczenia. Zdarzenie <a class="el" href="group__events.html#events-list"><code>GG_EVENT_ACK</code>  zawiera informację o doręczeniu</a>lub powód niedoręczenia, chyba że wiadomość została wysłania z klasą <code>GG_CLASS_ACK</code>. Lista kodów jest opisana poniżej.</p>
<h2><a class="anchor" id="messages-images"></a>
Pobieranie i wysyłanie obrazków</h2>
<p>Po odebraniu wiadomości zawierającej strukturę <code><a class="el" href="structgg__msg__richtext__image.html" title="Strukturya opisująca obrazek wstawiony do wiadomości dla atrubutu GG_FONT_IMAGE.">gg_msg_richtext_image</a></code>, mając informację o rozmiarze i sumie kontrolnej obrazka, należy użyć funkcji:</p>
<div class="fragment"><pre class="fragment"><a class="code" href="group__messages.html#gad8f4addf7ac77bb992e42eb6e2de5b60" title="Wysyła żądanie obrazka o podanych parametrach.">gg_image_request</a>(sesja, nadawca, rozmiar, crc);
</pre></div><p>Następnie należy oczekiwać na zdarzenie <a class="el" href="group__events.html#events-list"><code>GG_EVENT_IMAGE_REPLY</code> </a>, które będzie zawierać rozmiar pliku (<code>size</code>) i sumę kontrolą (<code>crc32</code>) do identifikacji zdarzenia, oraz nazwę obrazka (<code>filename</code>) i jego treść (<code>image</code>). Rodzaj pliku graficznego nie jest określony przy transmisji, więc należy go rozpoznać po rozszerzeniu lub treści.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>Biblioteka ignoruje wszystkie obrazki, które nie były zamówione, żeby uniknąć zajęcia całej dostępnej pamięci, na wypadek gdyby ktoś nieustannie próbował wysyłać niekompletne obrazki.</dd></dl>
<p>Jeśli została wysłana wiadomość graficzną, należy obsługiwać zdarzenie <a class="el" href="group__events.html#events-list"><code>GG_EVENT_IMAGE_REQUEST</code> , które w polach</a><code>size</code> i <code>crc32</code> zawiera informacje o obrazku, którego potrzebuje nasz rozmówca. Obrazek wysyła się funkcją:</p>
<div class="fragment"><pre class="fragment"><a class="code" href="group__messages.html#ga8d1a50a10b076d0006c8b1b301394bd2" title="Wysyła żądany obrazek.">gg_image_reply</a>(sesja, odbiorca, nazwa_pliku, obrazek, długość_obrazka);
</pre></div><h2><a class="anchor" id="messages-typing"></a>
Powiadomienie o pisaniu</h2>
<p>Począwszy od Gadu-Gadu 10 rozmówca jest informowany o tym, że jesteśmy w trakcie pisania wiadomości:</p>
<div class="fragment"><pre class="fragment"><a class="code" href="group__messages.html#ga27a5bb1766cbb99dae4e862eec635899" title="Informuje rozmówcę o pisaniu wiadomości.">gg_typing_notification</a>(sesja, odbiorca, długość_wiadomości);
</pre></div><p>Informacje o pisaniu przesyłane są do aplikacji za pomocą zdarzenia <a class="el" href="group__events.html#events-list"><code>GG_EVENT_TYPING_NOTIFICATION</code> .</a></p>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="ga702ddbf340747a609a56241526b19b8e"></a><!-- doxytag: member="libgadu.h::GG_MSG_MAXSIZE" ref="ga702ddbf340747a609a56241526b19b8e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GG_MSG_MAXSIZE&nbsp;&nbsp;&nbsp;1989</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Maksymalna długość wiadomości. </p>

</div>
</div>
<hr/><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="gab04a0655cd1e3bcac5e8f48c18df1a57"></a><!-- doxytag: member="libgadu.h::@9" ref="gab04a0655cd1e3bcac5e8f48c18df1a57" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Klasy wiadomości. </p>
<p>Wartości są maskami bitowymi, które w większości przypadków można łączyć (połączenie <code>GG_CLASS_MSG</code> i <code>GG_CLASS_CHAT</code> nie ma sensu). </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="ggab04a0655cd1e3bcac5e8f48c18df1a57a8163c1c845c6cc766ba4d1b0d8a60c36"></a><!-- doxytag: member="GG_CLASS_MSG" ref="ggab04a0655cd1e3bcac5e8f48c18df1a57a8163c1c845c6cc766ba4d1b0d8a60c36" args="" -->GG_CLASS_MSG</em>&nbsp;</td><td>
<p>Wiadomość ma pojawić się w osobnym oknie. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggab04a0655cd1e3bcac5e8f48c18df1a57afcc792ce83299a41ea087b5595af0a29"></a><!-- doxytag: member="GG_CLASS_CHAT" ref="ggab04a0655cd1e3bcac5e8f48c18df1a57afcc792ce83299a41ea087b5595af0a29" args="" -->GG_CLASS_CHAT</em>&nbsp;</td><td>
<p>Wiadomość ma pojawić się w oknie rozmowy. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggab04a0655cd1e3bcac5e8f48c18df1a57a5ef165db4874c852e49aeca51a7128e9"></a><!-- doxytag: member="GG_CLASS_CTCP" ref="ggab04a0655cd1e3bcac5e8f48c18df1a57a5ef165db4874c852e49aeca51a7128e9" args="" -->GG_CLASS_CTCP</em>&nbsp;</td><td>
<p>Wiadomość przeznaczona dla klienta Gadu-Gadu. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggab04a0655cd1e3bcac5e8f48c18df1a57ad31aaba07e24c54eb136739fdf0f35ce"></a><!-- doxytag: member="GG_CLASS_ACK" ref="ggab04a0655cd1e3bcac5e8f48c18df1a57ad31aaba07e24c54eb136739fdf0f35ce" args="" -->GG_CLASS_ACK</em>&nbsp;</td><td>
<p>Klient nie życzy sobie potwierdzenia. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggab04a0655cd1e3bcac5e8f48c18df1a57a29acd1b8de6f0ff5e72a25ff083a3d47"></a><!-- doxytag: member="GG_CLASS_QUEUED" ref="ggab04a0655cd1e3bcac5e8f48c18df1a57a29acd1b8de6f0ff5e72a25ff083a3d47" args="" -->GG_CLASS_QUEUED</em>&nbsp;</td><td>
<p>Wiadomość zakolejkowana na serwerze (tylko przy odbieraniu). </p>
</td></tr>
</table>
</dd>
</dl>

</div>
</div>
<a class="anchor" id="ga385c44f6fb256e5716a2302a5b940388"></a><!-- doxytag: member="libgadu.h::@10" ref="ga385c44f6fb256e5716a2302a5b940388" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Atrybuty formatowania wiadomości. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="gga385c44f6fb256e5716a2302a5b940388a94c148486240df0354a8123ee5dd06c5"></a><!-- doxytag: member="GG_FONT_BOLD" ref="gga385c44f6fb256e5716a2302a5b940388a94c148486240df0354a8123ee5dd06c5" args="" -->GG_FONT_BOLD</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga385c44f6fb256e5716a2302a5b940388a8a000abdc55fed561d4871ac9f976305"></a><!-- doxytag: member="GG_FONT_ITALIC" ref="gga385c44f6fb256e5716a2302a5b940388a8a000abdc55fed561d4871ac9f976305" args="" -->GG_FONT_ITALIC</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga385c44f6fb256e5716a2302a5b940388a1f3a57de68f8b37cfe5cc6fc6c59248e"></a><!-- doxytag: member="GG_FONT_UNDERLINE" ref="gga385c44f6fb256e5716a2302a5b940388a1f3a57de68f8b37cfe5cc6fc6c59248e" args="" -->GG_FONT_UNDERLINE</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga385c44f6fb256e5716a2302a5b940388a802285a52382aa39fdc1fc0fc0b5849c"></a><!-- doxytag: member="GG_FONT_COLOR" ref="gga385c44f6fb256e5716a2302a5b940388a802285a52382aa39fdc1fc0fc0b5849c" args="" -->GG_FONT_COLOR</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga385c44f6fb256e5716a2302a5b940388a756b07e02fb68e90274cf6471616400d"></a><!-- doxytag: member="GG_FONT_IMAGE" ref="gga385c44f6fb256e5716a2302a5b940388a756b07e02fb68e90274cf6471616400d" args="" -->GG_FONT_IMAGE</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

</div>
</div>
<a class="anchor" id="gabc5c98fcc1211af2b80116dd6e0a035d"></a><!-- doxytag: member="libgadu.h::@11" ref="gabc5c98fcc1211af2b80116dd6e0a035d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Status doręczenia wiadomości. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="ggabc5c98fcc1211af2b80116dd6e0a035dae3901917057a6657a756e5668d20a5ce"></a><!-- doxytag: member="GG_ACK_DELIVERED" ref="ggabc5c98fcc1211af2b80116dd6e0a035dae3901917057a6657a756e5668d20a5ce" args="" -->GG_ACK_DELIVERED</em>&nbsp;</td><td>
<p>Wiadomość dostarczono. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggabc5c98fcc1211af2b80116dd6e0a035da76575d0bafcb1e0e8a45d08788dc5b08"></a><!-- doxytag: member="GG_ACK_QUEUED" ref="ggabc5c98fcc1211af2b80116dd6e0a035da76575d0bafcb1e0e8a45d08788dc5b08" args="" -->GG_ACK_QUEUED</em>&nbsp;</td><td>
<p>Wiadomość zakolejkowano z powodu niedostępności odbiorcy. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggabc5c98fcc1211af2b80116dd6e0a035da22cd918071954d3b6d39333ee85ddac7"></a><!-- doxytag: member="GG_ACK_BLOCKED" ref="ggabc5c98fcc1211af2b80116dd6e0a035da22cd918071954d3b6d39333ee85ddac7" args="" -->GG_ACK_BLOCKED</em>&nbsp;</td><td>
<p>Wiadomość zablokowana przez serwer (spam, świąteczne ograniczenia itd. </p>
<p>) </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggabc5c98fcc1211af2b80116dd6e0a035da8cf3fd01604ed358e04bcfc4c7ffc732"></a><!-- doxytag: member="GG_ACK_MBOXFULL" ref="ggabc5c98fcc1211af2b80116dd6e0a035da8cf3fd01604ed358e04bcfc4c7ffc732" args="" -->GG_ACK_MBOXFULL</em>&nbsp;</td><td>
<p>Wiadomości nie dostarczono z powodu zapełnionej kolejki wiadomości odbiorcy. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggabc5c98fcc1211af2b80116dd6e0a035da34c0aa23f1f67c05dc0034318339d486"></a><!-- doxytag: member="GG_ACK_NOT_DELIVERED" ref="ggabc5c98fcc1211af2b80116dd6e0a035da34c0aa23f1f67c05dc0034318339d486" args="" -->GG_ACK_NOT_DELIVERED</em>&nbsp;</td><td>
<p>Wiadomości nie dostarczono (tylko dla <code>GG_CLASS_CTCP</code>). </p>
</td></tr>
</table>
</dd>
</dl>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="gabcc076e57528b91518f573f59fadde08"></a><!-- doxytag: member="libgadu.c::gg_send_message" ref="gabcc076e57528b91518f573f59fadde08" args="(struct gg_session *sess, int msgclass, uin_t recipient, const unsigned char *message)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gg_send_message </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgg__session.html">gg_session</a> *&nbsp;</td>
          <td class="paramname"> <em>sess</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>msgclass</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libgadu_8h.html#a33f630ba74294027f9bcda26ed49cdc8">uin_t</a>&nbsp;</td>
          <td class="paramname"> <em>recipient</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned char *&nbsp;</td>
          <td class="paramname"> <em>message</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Wysyła wiadomość do użytkownika. </p>
<p>Zwraca losowy numer sekwencyjny, który można zignorować albo wykorzystać do potwierdzenia.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sess</em>&nbsp;</td><td>Struktura sesji </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>msgclass</em>&nbsp;</td><td>Klasa wiadomości </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>recipient</em>&nbsp;</td><td>Numer adresata </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>message</em>&nbsp;</td><td>Treść wiadomości</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Numer sekwencyjny wiadomości lub -1 w przypadku błędu. </dd></dl>

</div>
</div>
<a class="anchor" id="ga2a30ed0ecd9691b7af77406619087a67"></a><!-- doxytag: member="libgadu.c::gg_send_message_richtext" ref="ga2a30ed0ecd9691b7af77406619087a67" args="(struct gg_session *sess, int msgclass, uin_t recipient, const unsigned char *message, const unsigned char *format, int formatlen)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gg_send_message_richtext </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgg__session.html">gg_session</a> *&nbsp;</td>
          <td class="paramname"> <em>sess</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>msgclass</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libgadu_8h.html#a33f630ba74294027f9bcda26ed49cdc8">uin_t</a>&nbsp;</td>
          <td class="paramname"> <em>recipient</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned char *&nbsp;</td>
          <td class="paramname"> <em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned char *&nbsp;</td>
          <td class="paramname"> <em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>formatlen</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Wysyła wiadomość formatowaną. </p>
<p>Zwraca losowy numer sekwencyjny, który można zignorować albo wykorzystać do potwierdzenia.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sess</em>&nbsp;</td><td>Struktura sesji </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>msgclass</em>&nbsp;</td><td>Klasa wiadomości </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>recipient</em>&nbsp;</td><td>Numer adresata </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>message</em>&nbsp;</td><td>Treść wiadomości </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>format</em>&nbsp;</td><td>Informacje o formatowaniu </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>formatlen</em>&nbsp;</td><td>Długość informacji o formatowaniu</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Numer sekwencyjny wiadomości lub -1 w przypadku błędu. </dd></dl>

</div>
</div>
<a class="anchor" id="ga1c21ea124d1b79cfc16c0733d3833ebe"></a><!-- doxytag: member="libgadu.c::gg_send_message_html" ref="ga1c21ea124d1b79cfc16c0733d3833ebe" args="(struct gg_session *sess, int msgclass, uin_t recipient, const unsigned char *html_message)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gg_send_message_html </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgg__session.html">gg_session</a> *&nbsp;</td>
          <td class="paramname"> <em>sess</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>msgclass</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libgadu_8h.html#a33f630ba74294027f9bcda26ed49cdc8">uin_t</a>&nbsp;</td>
          <td class="paramname"> <em>recipient</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned char *&nbsp;</td>
          <td class="paramname"> <em>html_message</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Wysyła formatowaną wiadomość HTML. </p>
<p>Zwraca losowy numer sekwencyjny, który można zignorować albo wykorzystać do potwierdzenia.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sess</em>&nbsp;</td><td>Struktura sesji </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>msgclass</em>&nbsp;</td><td>Klasa wiadomości </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>recipient</em>&nbsp;</td><td>Numer adresata </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>html_message</em>&nbsp;</td><td>Treść wiadomości HTML</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Numer sekwencyjny wiadomości lub -1 w przypadku błędu. </dd></dl>

</div>
</div>
<a class="anchor" id="ga48f3197c621872c670f49fe0d1ac25eb"></a><!-- doxytag: member="libgadu.c::gg_send_message_confer" ref="ga48f3197c621872c670f49fe0d1ac25eb" args="(struct gg_session *sess, int msgclass, int recipients_count, uin_t *recipients, const unsigned char *message)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gg_send_message_confer </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgg__session.html">gg_session</a> *&nbsp;</td>
          <td class="paramname"> <em>sess</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>msgclass</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>recipients_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libgadu_8h.html#a33f630ba74294027f9bcda26ed49cdc8">uin_t</a> *&nbsp;</td>
          <td class="paramname"> <em>recipients</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned char *&nbsp;</td>
          <td class="paramname"> <em>message</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Wysyła wiadomość w ramach konferencji. </p>
<p>Zwraca losowy numer sekwencyjny, który można zignorować albo wykorzystać do potwierdzenia.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sess</em>&nbsp;</td><td>Struktura sesji </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>msgclass</em>&nbsp;</td><td>Klasa wiadomości </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>recipients_count</em>&nbsp;</td><td>Liczba adresatów </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>recipients</em>&nbsp;</td><td>Wskaźnik do tablicy z numerami adresatów </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>message</em>&nbsp;</td><td>Treść wiadomości</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Numer sekwencyjny wiadomości lub -1 w przypadku błędu. </dd></dl>

</div>
</div>
<a class="anchor" id="ga0e5df383eeac438710656704fa4bdd30"></a><!-- doxytag: member="libgadu.c::gg_send_message_confer_richtext" ref="ga0e5df383eeac438710656704fa4bdd30" args="(struct gg_session *sess, int msgclass, int recipients_count, uin_t *recipients, const unsigned char *message, const unsigned char *format, int formatlen)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gg_send_message_confer_richtext </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgg__session.html">gg_session</a> *&nbsp;</td>
          <td class="paramname"> <em>sess</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>msgclass</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>recipients_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libgadu_8h.html#a33f630ba74294027f9bcda26ed49cdc8">uin_t</a> *&nbsp;</td>
          <td class="paramname"> <em>recipients</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned char *&nbsp;</td>
          <td class="paramname"> <em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned char *&nbsp;</td>
          <td class="paramname"> <em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>formatlen</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Wysyła wiadomość formatowaną w ramach konferencji. </p>
<p>Zwraca losowy numer sekwencyjny, który można zignorować albo wykorzystać do potwierdzenia.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sess</em>&nbsp;</td><td>Struktura sesji </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>msgclass</em>&nbsp;</td><td>Klasa wiadomości </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>recipients_count</em>&nbsp;</td><td>Liczba adresatów </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>recipients</em>&nbsp;</td><td>Wskaźnik do tablicy z numerami adresatów </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>message</em>&nbsp;</td><td>Treść wiadomości </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>format</em>&nbsp;</td><td>Informacje o formatowaniu </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>formatlen</em>&nbsp;</td><td>Długość informacji o formatowaniu</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Numer sekwencyjny wiadomości lub -1 w przypadku błędu. </dd></dl>

</div>
</div>
<a class="anchor" id="gacc9111b04eec5bd62db47dcb591487dd"></a><!-- doxytag: member="libgadu.c::gg_send_message_confer_html" ref="gacc9111b04eec5bd62db47dcb591487dd" args="(struct gg_session *sess, int msgclass, int recipients_count, uin_t *recipients, const unsigned char *html_message)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gg_send_message_confer_html </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgg__session.html">gg_session</a> *&nbsp;</td>
          <td class="paramname"> <em>sess</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>msgclass</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>recipients_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libgadu_8h.html#a33f630ba74294027f9bcda26ed49cdc8">uin_t</a> *&nbsp;</td>
          <td class="paramname"> <em>recipients</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned char *&nbsp;</td>
          <td class="paramname"> <em>html_message</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Wysyła formatowaną wiadomość HTML w ramach konferencji. </p>
<p>Zwraca losowy numer sekwencyjny, który można zignorować albo wykorzystać do potwierdzenia.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sess</em>&nbsp;</td><td>Struktura sesji </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>msgclass</em>&nbsp;</td><td>Klasa wiadomości </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>recipients_count</em>&nbsp;</td><td>Liczba adresatów </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>recipients</em>&nbsp;</td><td>Wskaźnik do tablicy z numerami adresatów </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>html_message</em>&nbsp;</td><td>Treść wiadomości HTML</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Numer sekwencyjny wiadomości lub -1 w przypadku błędu. </dd></dl>

</div>
</div>
<a class="anchor" id="ga2c03e907a237f1de9a0e22b252e333c5"></a><!-- doxytag: member="libgadu.c::gg_send_message_ctcp" ref="ga2c03e907a237f1de9a0e22b252e333c5" args="(struct gg_session *sess, int msgclass, uin_t recipient, const unsigned char *message, int message_len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gg_send_message_ctcp </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgg__session.html">gg_session</a> *&nbsp;</td>
          <td class="paramname"> <em>sess</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>msgclass</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libgadu_8h.html#a33f630ba74294027f9bcda26ed49cdc8">uin_t</a>&nbsp;</td>
          <td class="paramname"> <em>recipient</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned char *&nbsp;</td>
          <td class="paramname"> <em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>message_len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Wysyła wiadomość binarną przeznaczoną dla klienta. </p>
<p>Wiadomości między klientami przesyła się np. w celu wywołania zwrotnego połączenia bezpośredniego. Funkcja zwraca losowy numer sekwencyjny, który można zignorować albo wykorzystać do potwierdzenia.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sess</em>&nbsp;</td><td>Struktura sesji </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>msgclass</em>&nbsp;</td><td>Klasa wiadomości </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>recipient</em>&nbsp;</td><td>Numer adresata </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>message</em>&nbsp;</td><td>Treść wiadomości </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>message_len</em>&nbsp;</td><td>Długość wiadomości</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Numer sekwencyjny wiadomości lub -1 w przypadku błędu. </dd></dl>

</div>
</div>
<a class="anchor" id="gad8f4addf7ac77bb992e42eb6e2de5b60"></a><!-- doxytag: member="libgadu.c::gg_image_request" ref="gad8f4addf7ac77bb992e42eb6e2de5b60" args="(struct gg_session *sess, uin_t recipient, int size, uint32_t crc32)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gg_image_request </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgg__session.html">gg_session</a> *&nbsp;</td>
          <td class="paramname"> <em>sess</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libgadu_8h.html#a33f630ba74294027f9bcda26ed49cdc8">uin_t</a>&nbsp;</td>
          <td class="paramname"> <em>recipient</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>crc32</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Wysyła żądanie obrazka o podanych parametrach. </p>
<p>Wiadomości obrazkowe nie zawierają samych obrazków, a tylko ich rozmiary i sumy kontrolne. Odbiorca najpierw szuka obrazków w swojej pamięci podręcznej i dopiero gdy ich nie znajdzie, wysyła żądanie do nadawcy. Wynik zostanie przekazany zdarzeniem <code>GG_EVENT_IMAGE_REPLY</code>.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sess</em>&nbsp;</td><td>Struktura sesji </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>recipient</em>&nbsp;</td><td>Numer adresata </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>Rozmiar obrazka w bajtach </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>crc32</em>&nbsp;</td><td>Suma kontrola obrazka</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 jeśli się powiodło, -1 w przypadku błędu </dd></dl>

</div>
</div>
<a class="anchor" id="ga8d1a50a10b076d0006c8b1b301394bd2"></a><!-- doxytag: member="libgadu.c::gg_image_reply" ref="ga8d1a50a10b076d0006c8b1b301394bd2" args="(struct gg_session *sess, uin_t recipient, const char *filename, const char *image, int size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gg_image_reply </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgg__session.html">gg_session</a> *&nbsp;</td>
          <td class="paramname"> <em>sess</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libgadu_8h.html#a33f630ba74294027f9bcda26ed49cdc8">uin_t</a>&nbsp;</td>
          <td class="paramname"> <em>recipient</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Wysyła żądany obrazek. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sess</em>&nbsp;</td><td>Struktura sesji </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>recipient</em>&nbsp;</td><td>Numer adresata </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>filename</em>&nbsp;</td><td>Nazwa pliku </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>image</em>&nbsp;</td><td>Bufor z obrazkiem </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>Rozmiar obrazka</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 jeśli się powiodło, -1 w przypadku błędu </dd></dl>

</div>
</div>
<a class="anchor" id="ga27a5bb1766cbb99dae4e862eec635899"></a><!-- doxytag: member="libgadu.c::gg_typing_notification" ref="ga27a5bb1766cbb99dae4e862eec635899" args="(struct gg_session *sess, uin_t recipient, int length)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="structgg__typing__notification.html">gg_typing_notification</a> </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgg__session.html">gg_session</a> *&nbsp;</td>
          <td class="paramname"> <em>sess</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libgadu_8h.html#a33f630ba74294027f9bcda26ed49cdc8">uin_t</a>&nbsp;</td>
          <td class="paramname"> <em>recipient</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>length</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Informuje rozmówcę o pisaniu wiadomości. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sess</em>&nbsp;</td><td>Struktura sesji </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>recipient</em>&nbsp;</td><td>Numer adresata </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>length</em>&nbsp;</td><td>Długość wiadomości lub 0 jeśli jest pusta</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 jeśli się powiodło, -1 w przypadku błędu </dd></dl>

</div>
</div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Thu Oct 31 2013 03:01:23 for libgadu by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
