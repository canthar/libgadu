<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>libgadu: Połączenia bezpośrednie od wersji Gadu-Gadu 7.x</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<h1>Połączenia bezpośrednie od wersji Gadu-Gadu 7.x<br/>
<small>
[<a class="el" href="group__dcc.html">Połączenia bezpośrednie między klientami</a>]</small>
</h1>  </div>
</div>
<div class="contents">
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structgg__dcc7.html">gg_dcc7</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Połączenie bezpośrednie od wersji Gadu-Gadu 7.x.  <a href="structgg__dcc7.html#_details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structgg__dcc7.html">gg_dcc7</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dcc7.html#gab9cb0eebd62a75931a44cf00b88ffd47">gg_dcc7_send_file_common</a> (struct <a class="el" href="structgg__session.html">gg_session</a> *sess, <a class="el" href="libgadu_8h.html#a33f630ba74294027f9bcda26ed49cdc8">uin_t</a> rcpt, int fd, size_t size, const char *filename1250, const char *hash, int seek)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structgg__dcc7.html">gg_dcc7</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dcc7.html#gadd203269b1b26d806cfca9341f7465ae">gg_dcc7_send_file</a> (struct <a class="el" href="structgg__session.html">gg_session</a> *sess, <a class="el" href="libgadu_8h.html#a33f630ba74294027f9bcda26ed49cdc8">uin_t</a> rcpt, const char *filename, const char *filename1250, const char *hash)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Rozpoczyna wysyłanie pliku o danej nazwie.  <a href="#gadd203269b1b26d806cfca9341f7465ae"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structgg__dcc7.html">gg_dcc7</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dcc7.html#ga99b4d40b7b138403ef306f50838f98ca">gg_dcc7_send_file_fd</a> (struct <a class="el" href="structgg__session.html">gg_session</a> *sess, <a class="el" href="libgadu_8h.html#a33f630ba74294027f9bcda26ed49cdc8">uin_t</a> rcpt, int fd, size_t size, const char *filename1250, const char *hash)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dcc7.html#ga069cdebd3e41c42ca918e3221a1e2b0f">gg_dcc7_accept</a> (struct <a class="el" href="structgg__dcc7.html">gg_dcc7</a> *dcc, unsigned int offset)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Potwierdza chęć odebrania pliku.  <a href="#ga069cdebd3e41c42ca918e3221a1e2b0f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dcc7.html#ga7ed0a6e2e7d0e8c2a9f735bd9a9b2af6">gg_dcc7_reject</a> (struct <a class="el" href="structgg__dcc7.html">gg_dcc7</a> *dcc, int reason)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Odrzuca próbę przesłania pliku.  <a href="#ga7ed0a6e2e7d0e8c2a9f735bd9a9b2af6"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Przesyłanie plików zgodne z Gadu-Gadu 7.x jest znacznie prostsze niż w wersji <a class="el" href="group__dcc6.html">6.x</a>. Podobnie jak poprzednio, każde połączenie jest opisane przez strukturę <code><a class="el" href="structgg__dcc7.html" title="Połączenie bezpośrednie od wersji Gadu-Gadu 7.x.">gg_dcc7</a></code>. Nie ma konieczności otwierania gniazda nasłuchującego, ponieważ jest tworzone dla każdego połączenia osobno.</p>
<p>Gdy chcemy wysłać plik, wywołujemy <code><a class="el" href="group__dcc7.html#gadd203269b1b26d806cfca9341f7465ae" title="Rozpoczyna wysyłanie pliku o danej nazwie.">gg_dcc7_send_file()</a></code> i obserwujemy zdarzenia zarówno z <code><a class="el" href="structgg__session.html" title="Sesja Gadu-Gadu.">gg_session</a></code>, jak i <code><a class="el" href="structgg__dcc7.html" title="Połączenie bezpośrednie od wersji Gadu-Gadu 7.x.">gg_dcc7</a></code>. Parametry funkcji to struktura sesji, numer odbiorcy, nazwa pliku, nazwa pliku w kodowaniu CP1250 (jeśli NULL to brana jest oryginalna nazwa) i skrót pliku wyznaczony algorytmem SHA1 (jeśli NULL to biblioteka liczy, blokując na ten czas działanie aplikacji). Wysyłanie jest praktycznie bezobsługowe, wystarczy zareagować na zdarzenie <code>GG_EVENT_DCC7_DONE</code> i <code>GG_EVENT_DCC7_ERROR</code> w <a class="el" href="structgg__dcc7.html" title="Połączenie bezpośrednie od wersji Gadu-Gadu 7.x.">gg_dcc7</a> oraz <code>GG_EVENT_DCC7_REJECTED</code> i <code>GG_EVENT_DCC7_ERROR</code> w <code><a class="el" href="structgg__session.html" title="Sesja Gadu-Gadu.">gg_session</a></code>, żeby wiedzieć, kiedy zwolnić zasoby funkcją <code><a class="el" href="libgadu_8h.html#af9ef9e1b7d02d627501f574218b4d208">gg_dcc7_free()</a></code>.</p>
<p>Jeśli ktoś do nas wysyła plik, otrzymamy zdarzenie <code>GG_EVENT_DCC7_NEW</code> z sesji. Należy przygotować deskryptor otwarty do zapisu, wpisać jego wartość do pola <code>file_fd</code> struktury <code><a class="el" href="structgg__dcc7.html" title="Połączenie bezpośrednie od wersji Gadu-Gadu 7.x.">gg_dcc7</a></code> i wywołać <code><a class="el" href="group__dcc7.html#ga069cdebd3e41c42ca918e3221a1e2b0f" title="Potwierdza chęć odebrania pliku.">gg_dcc7_accept()</a></code> albo od razu wywołać <code><a class="el" href="group__dcc7.html#ga7ed0a6e2e7d0e8c2a9f735bd9a9b2af6" title="Odrzuca próbę przesłania pliku.">gg_dcc7_reject()</a></code>, jeśli nie chcemy połączenia. Tak samo jak przy wysyłaniu, wystarczy obsłużyć <code>GG_EVENT_DCC7_DONE</code> w strukturze <code><a class="el" href="structgg__dcc7.html" title="Połączenie bezpośrednie od wersji Gadu-Gadu 7.x.">gg_dcc7</a></code> i <code>GG_EVENT_DCC7_ERROR</code> w strukturach <code><a class="el" href="structgg__session.html" title="Sesja Gadu-Gadu.">gg_session</a></code> i <code><a class="el" href="structgg__dcc7.html" title="Połączenie bezpośrednie od wersji Gadu-Gadu 7.x.">gg_dcc7</a></code>.</p>
<p>Deskryptor połączenia (pole <code>fd</code> struktury <code><a class="el" href="structgg__dcc7.html" title="Połączenie bezpośrednie od wersji Gadu-Gadu 7.x.">gg_dcc7</a></code>) może zmienić się po wywołaniu funkcji <code><a class="el" href="group__dcc7.html#ga069cdebd3e41c42ca918e3221a1e2b0f" title="Potwierdza chęć odebrania pliku.">gg_dcc7_accept()</a></code> lub otrzymaniu jednego ze zdarzeń: <code>GG_EVENT_DCC7_CONNECTED</code>, <code>GG_EVENT_DCC7_ACCEPT</code>, <code>GG_EVENT_DCC7_PENDING</code>.</p>
<h2><a class="anchor" id="dcc7-settings"></a>
Opcje połączeń</h2>
<p>Ponieważ jedna ze stron odbiera połączenie bezpośrednie, konieczne jest nasłuchiwanie na porcie TCP. Domyślne ustawienia pozwalają na poprawną pracę jeśli co najmniej jedna ze stron połączenia ma bezpośredni dostęp do sieci, bez translacji adresów i/lub portów. Pole <a class="el" href="structgg__login__params.html#afe8103a5a3168019d3be70abe5a3c542"><code>client_addr</code> </a>struktury <code><a class="el" href="structgg__login__params.html" title="Parametry połączenia z serwerem Gadu-Gadu.">gg_login_params</a></code> mówi na jakim adresie należy nasłuchiwać. Domyślna wartość <code>0.0.0.0</code> powoduje nasłuchiwanie na wszystkich dostępnych interfejsach komputera. Pole <a class="el" href="structgg__login__params.html#a227d901bc6fb3e4ed6ad9640054c7849"><code>client_port</code> </a>mówi na którym porcie należy nasłuchiwać. Domyślna wartość <code>0</code> powoduje nasłuchiwanie na losowym dostępnym porcie. Należy zwrócić uwagę, że jeśli jedno połączenie będzie nasłuchiwać na danym porcie, inne już nie będzie w stanie, co spowoduje błąd.</p>
<p>Druga para ustawień dotyczy publicznego adresu i portu. Ta strona połączenia, która nasłuchuje na porcie TCP wysyła do drugiej strony swój adres i numer portu. Pole <a class="el" href="structgg__login__params.html#a9098d15d77ef7bd951a05eb7451bc450"><code>external_addr</code> </a>mówi jaki adres zostanie wysłany. Domyślna wartość <code>0.0.0.0</code> powoduje wysłanie adresu IP, z którego sesja łączy się z serwerem. Pole <a class="el" href="structgg__login__params.html#a4579a6a3bb00195b8f1b0dbcf10984e5"><code>external_port</code> </a>mówi jaki port zostanie wysłany. Domyślna wartość <code>0</code> powoduje wysłane portu, na którym połączenie nasłuchuje.</p>
<h2><a class="anchor" id="dcc7-todo"></a>
Do zrobienia</h2>
<ul>
<li>Rozmowy głosowe.</li>
</ul>
<ul>
<li>Nawiązywanie połączeń przez serwer. </li>
</ul>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="gab9cb0eebd62a75931a44cf00b88ffd47"></a><!-- doxytag: member="dcc7.c::gg_dcc7_send_file_common" ref="gab9cb0eebd62a75931a44cf00b88ffd47" args="(struct gg_session *sess, uin_t rcpt, int fd, size_t size, const char *filename1250, const char *hash, int seek)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structgg__dcc7.html">gg_dcc7</a>* gg_dcc7_send_file_common </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgg__session.html">gg_session</a> *&nbsp;</td>
          <td class="paramname"> <em>sess</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libgadu_8h.html#a33f630ba74294027f9bcda26ed49cdc8">uin_t</a>&nbsp;</td>
          <td class="paramname"> <em>rcpt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>filename1250</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>hash</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>seek</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><b>For internal use only.</b></p>
<p>Rozpoczyna wysyłanie pliku.</p>
<p>Funkcja jest wykorzystywana przez <code><a class="el" href="group__dcc7.html#gadd203269b1b26d806cfca9341f7465ae" title="Rozpoczyna wysyłanie pliku o danej nazwie.">gg_dcc7_send_file()</a></code> oraz <code>gg_dcc_send_file_fd()</code>.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sess</em>&nbsp;</td><td>Struktura sesji </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>rcpt</em>&nbsp;</td><td>Numer odbiorcy </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>fd</em>&nbsp;</td><td>Deskryptor pliku </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>Rozmiar pliku </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>filename1250</em>&nbsp;</td><td>Nazwa pliku w kodowaniu CP-1250 </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>hash</em>&nbsp;</td><td>Skrót SHA-1 pliku </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>seek</em>&nbsp;</td><td>Flaga mówiąca, czy można używać lseek()</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Struktura <code><a class="el" href="structgg__dcc7.html" title="Połączenie bezpośrednie od wersji Gadu-Gadu 7.x.">gg_dcc7</a></code> lub <code>NULL</code> w przypadku błędu </dd></dl>

</div>
</div>
<a class="anchor" id="gadd203269b1b26d806cfca9341f7465ae"></a><!-- doxytag: member="dcc7.c::gg_dcc7_send_file" ref="gadd203269b1b26d806cfca9341f7465ae" args="(struct gg_session *sess, uin_t rcpt, const char *filename, const char *filename1250, const char *hash)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structgg__dcc7.html">gg_dcc7</a>* gg_dcc7_send_file </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgg__session.html">gg_session</a> *&nbsp;</td>
          <td class="paramname"> <em>sess</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libgadu_8h.html#a33f630ba74294027f9bcda26ed49cdc8">uin_t</a>&nbsp;</td>
          <td class="paramname"> <em>rcpt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>filename1250</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>hash</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Rozpoczyna wysyłanie pliku o danej nazwie. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sess</em>&nbsp;</td><td>Struktura sesji </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>rcpt</em>&nbsp;</td><td>Numer odbiorcy </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>filename</em>&nbsp;</td><td>Nazwa pliku w lokalnym systemie plików </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>filename1250</em>&nbsp;</td><td>Nazwa pliku w kodowaniu CP-1250 </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>hash</em>&nbsp;</td><td>Skrót SHA-1 pliku (lub <code>NULL</code> jeśli ma być wyznaczony)</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Struktura <code><a class="el" href="structgg__dcc7.html" title="Połączenie bezpośrednie od wersji Gadu-Gadu 7.x.">gg_dcc7</a></code> lub <code>NULL</code> w przypadku błędu </dd></dl>

</div>
</div>
<a class="anchor" id="ga99b4d40b7b138403ef306f50838f98ca"></a><!-- doxytag: member="dcc7.c::gg_dcc7_send_file_fd" ref="ga99b4d40b7b138403ef306f50838f98ca" args="(struct gg_session *sess, uin_t rcpt, int fd, size_t size, const char *filename1250, const char *hash)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structgg__dcc7.html">gg_dcc7</a>* gg_dcc7_send_file_fd </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgg__session.html">gg_session</a> *&nbsp;</td>
          <td class="paramname"> <em>sess</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libgadu_8h.html#a33f630ba74294027f9bcda26ed49cdc8">uin_t</a>&nbsp;</td>
          <td class="paramname"> <em>rcpt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>filename1250</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>hash</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><b>For internal use only.</b></p>
<p>Rozpoczyna wysyłanie pliku o danym deskryptorze.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>Wysyłanie pliku nie będzie działać poprawnie, jeśli deskryptor źródłowy jest w trybie nieblokującym i w pewnym momencie zabraknie danych.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sess</em>&nbsp;</td><td>Struktura sesji </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>rcpt</em>&nbsp;</td><td>Numer odbiorcy </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>fd</em>&nbsp;</td><td>Deskryptor pliku </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>Rozmiar pliku </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>filename1250</em>&nbsp;</td><td>Nazwa pliku w kodowaniu CP-1250 </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>hash</em>&nbsp;</td><td>Skrót SHA-1 pliku</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Struktura <code><a class="el" href="structgg__dcc7.html" title="Połączenie bezpośrednie od wersji Gadu-Gadu 7.x.">gg_dcc7</a></code> lub <code>NULL</code> w przypadku błędu </dd></dl>

</div>
</div>
<a class="anchor" id="ga069cdebd3e41c42ca918e3221a1e2b0f"></a><!-- doxytag: member="dcc7.c::gg_dcc7_accept" ref="ga069cdebd3e41c42ca918e3221a1e2b0f" args="(struct gg_dcc7 *dcc, unsigned int offset)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="structgg__dcc7__accept.html">gg_dcc7_accept</a> </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgg__dcc7.html">gg_dcc7</a> *&nbsp;</td>
          <td class="paramname"> <em>dcc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>offset</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Potwierdza chęć odebrania pliku. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dcc</em>&nbsp;</td><td>Struktura połączenia </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>offset</em>&nbsp;</td><td>Początkowy offset przy wznawianiu przesyłania pliku</td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Biblioteka nie zmienia położenia w odbieranych plikach. Jeśli offset początkowy jest różny od zera, należy ustawić go funkcją <code>lseek()</code> lub podobną.</dd></dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 jeśli się powiodło, -1 w przypadku błędu </dd></dl>

</div>
</div>
<a class="anchor" id="ga7ed0a6e2e7d0e8c2a9f735bd9a9b2af6"></a><!-- doxytag: member="dcc7.c::gg_dcc7_reject" ref="ga7ed0a6e2e7d0e8c2a9f735bd9a9b2af6" args="(struct gg_dcc7 *dcc, int reason)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="structgg__dcc7__reject.html">gg_dcc7_reject</a> </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgg__dcc7.html">gg_dcc7</a> *&nbsp;</td>
          <td class="paramname"> <em>dcc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>reason</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Odrzuca próbę przesłania pliku. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dcc</em>&nbsp;</td><td>Struktura połączenia </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>reason</em>&nbsp;</td><td>Powód odrzucenia</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 jeśli się powiodło, -1 w przypadku błędu </dd></dl>

</div>
</div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Thu Oct 31 2013 03:01:23 for libgadu by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
